<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.sky.mapper.DishMapper">

    <insert id="add" parameterType="com.sky.entity.Dish" useGeneratedKeys="true" keyProperty="id">
        insert into dish (name,category_id,price,image,description,status,create_time,create_user,update_time,update_user)
        values(#{name},#{categoryId},#{price},#{image},#{description},#{status},#{createTime},#{createUser},#{updateTime},#{updateUser})
    </insert>

    <update id="update" parameterType="com.sky.entity.Dish" useGeneratedKeys="true" keyProperty="id">
        update dish
        <set>
            <if test="name != null">name=#{name}</if>
            <if test="categoryId != null">category_id=#{categoryId}</if>
            <if test="price != null">price=#{price}</if>
            <if test="image != null">image=#{image}</if>
            <if test="description != null">description=#{description}</if>
            <if test="status != null">status=#{status}</if>
            <if test="createTime != null">create_time=#{createTime}</if>
            <if test="updateTime != null">update_time=#{updateTime}</if>
            <if test="createUser != null">create_user=#{createUser}</if>
            <if test="updateUser != null">update_user=#{updateUser}</if>
        </set>
        <where>id=#{id}</where>
    </update>
</mapper>